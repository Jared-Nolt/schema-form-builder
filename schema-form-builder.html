<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schema Fields Combiner</title>
    <link rel="stylesheet" href="static/main.scss" />
 
</head>
<body class="">
<h1 class="">HTML Postal address schema markup</h1>
    <div class="schema-section">
        <h2 class=""><a href="https://schema.org/LocalBusiness" target="_blank">Local Business</a></h2>
        
        <div class="form-wrapper">
            
            <!--Business name with optional linebreak-->
            <div class="flex-grow">
                <label for="businessname" class="">Business name (itemprop="name")</label>
                <div class="">
                    <input type="text" id="businessname" onkeyup="updateResult()" class="" placeholder="e.g., Business Name">
                    <div class="">
                        <input id="businessname_lineBreakCheck" type="checkbox" onchange="updateResult()" class="">
                        <label for="businessname_lineBreakCheck" class="">Add &lt;br/&gt;</label>
                    </div>
                </div>
            </div>
         
            <!--Street Address with optional linebreak-->
            <div class="flex-grow">
                <label for="streetAddress" class="">Street Address (itemprop="streetAddress")</label>
                <div class="">
                    <input type="text" id="streetAddress" onkeyup="updateResult()" class="" placeholder="e.g., Street Address">
                    <div class="">
                        <input id="streetAddress_lineBreakCheck" type="checkbox" onchange="updateResult()" class="">
                        <label for="streetAddress_lineBreakCheck" class="">Add &lt;br/&gt;</label>
                    </div>
                </div>
            </div>

            <!--Address Locality City-->
            <div class="flex-grow">
                <label for="addressLocality" class="">City (itemprop="addressLocality")</label>
                <div class="">
                    <input type="text" id="addressLocality" onkeyup="updateResult()" class="" placeholder="e.g., City">
                </div>
            </div>
            
            <!--Address Region State-->
            <div class="flex-grow">
                <label for="addressRegion" class="">State (itemprop="addressRegion")</label>
                <div class="">
                    <input type="text" id="addressRegion" onkeyup="updateResult()" class="" placeholder="e.g., State">
                </div>
            </div>
            
            <!--Postal Code-->
            <div class="flex-grow">
                <label for="postalCode" class="">Zip (itemprop="postalCode")</label>
                <div class="">
                    <input type="text" id="postalCode" onkeyup="updateResult()" class="" placeholder="e.g., Zip">
                </div>
            </div>

		<!--END form-wrapper-->
        </div>

        <!-- Display for the combined result -->
        <div class="mt-8">
            <p class="text-lg text-gray-600 text-center">Combined Result:</p>
            <!-- The result is displayed inside this pre/code block for better formatting -->
            <div class="bg-gray-900 text-white rounded-md p-4 mt-2 w-full">
                <pre><code class="text-sm" id="result">&nbsp;</code></pre>
            </div>
        </div>

    </div>

    <script>
    // This function is called whenever a key is released or the checkbox is changed.
    function updateResult() {
        // An array to hold the parts of our final string.
        const parts = [];
// schema wrapper
parts.push(`<div itemscope itemtype="https://schema.org/LocalBusiness">`);

		// Business name
        const businessname = document.getElementById('businessname').value;
        if (businessname.trim() !== '') {
            parts.push(`<span itemprop="name">${businessname}</span>`);
            const addLineBreak = document.getElementById('businessname_lineBreakCheck').checked;
            if (addLineBreak) {
                parts.push('<br/>');
            }
        }
    // PostalAddress
	parts.push(`<span itemprop="address" itemscope itemtype="https://schema.org/PostalAddress">`);
        // Street Address
        const streetAddress = document.getElementById('streetAddress').value;
        if (streetAddress.trim() !== '') {
            parts.push(`<span itemprop="streetAddress">${streetAddress}</span>`);
            const addLineBreak = document.getElementById('streetAddress_lineBreakCheck').checked;
            if (addLineBreak) {
                parts.push('<br/>');
            }
        }

		// Address Locality City
        const addressLocality = document.getElementById('addressLocality').value;
        if (addressLocality.trim() !== '') {
            parts.push(`<span itemprop="addressLocality">${addressLocality},</span>`);
        }
        
        // Address Region State
        const addressRegion = document.getElementById('addressRegion').value;
        if (addressLocality.trim() !== '') {
            parts.push(`<span itemprop="addressRegion">${addressRegion}</span>`);
        }
        // Postal Code
        const postalCode = document.getElementById('postalCode').value;
        if (postalCode.trim() !== '') {
            parts.push(`<span itemprop="postalCode">${postalCode}</span>`);
        }

	// END PostalAddress
	parts.push(`</div>`);



// END schema wrapper
parts.push(`</div>`);
        // Join all the collected parts with a space in between.
        // This will correctly place spaces around the <br/> tag.
        const combinedText = parts.join(' ');
        
        // Get the result element.
        const resultElement = document.getElementById('result');

        // Update the text content of the result element.
        resultElement.textContent = combinedText || '\u00A0';
    }

    // Call the function on page load to initialize the result area.
    window.onload = updateResult;
</script>

</body>
</html>
